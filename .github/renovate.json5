{
  "extends": [
    "config:base",
    ":disableRateLimiting",
    ":dependencyDashboard",
    "docker:enableMajor"
  ],
  "regexManagers": [
    {
      "description": "Process variables dependencies",
      "fileMatch": [
        ".yaml$",
        ".yml$",
        "Makefile"
      ],
      "matchStrings": [
        ".*(=\\s?|:\\s)(?<currentValue>[v0-9.-]+)\\s#\\supdate: datasource=(?<datasource>.*?) depName=(?<depName>.*?)( extractVersion=(?<extractVersion>.+?))?( versioning=(?<versioning>.*?))?\\s"
      ],
      "extractVersionTemplate": "{{#if extractVersion}}{{{extractVersion}}}{{/if}}",
      "versioningTemplate": "{{#if versioning}}{{{versioning}}}{{else}}semver{{/if}}"
    },
    {
      "description": "Update Docker Image dependencies in .+_test.go files",
      "fileMatch": [
        "_test.go$"
      ],
      "matchStrings": [
        ".*[iI]mage:\\s+[\'\"`]?(?<depName>[^:]+):(?<currentValue>[^\\s\'\"`]+)[\'\"`]?([,\\s]*\\/\\/\\supdate: versioning=(?<versioning>.*))?"
      ],
      versioningTemplate: "{{#if versioning}}{{{versioning}}}{{else}}docker{{/if}}",
      "datasourceTemplate": "docker",
    },
    {
      "description": "Update Docker Image dependencies NewSpec struct in .+_test.go files",
      "fileMatch": [
        "_test.go$"
      ],
      matchStringsStrategy: "combination",
      "matchStrings": [
        "Registry:\\s*[\"`](?<registry>[^\"`]*)[\"`]",
        "Name:\\s*[\"`](?<name>[^\"`]*)[\"`]",
        "Version:\\s*[\"`](?<currentValue>[^\"`]+)[\"`]([,\\s]*\\/\\/\\supdate: versioning=(?<versioning>.*))?"
      ],
      depNameTemplate: "{{registry}}/{{name}}",
      versioningTemplate: "{{#if versioning}}{{{versioning}}}{{else}}docker{{/if}}",
      datasourceTemplate: "docker",
    },
    {
      "fileMatch": [
        "^main.yml$"
      ],
      "matchStringsStrategy": "combination",
      "matchStrings": [
        "thanos_image:\\s*\"(?<depName>.*)\"\\s*//",
        "thanos_version:\\s*\"(?<currentValue>.*)\"\\s*//"
      ],
      "datasourceTemplate": "docker"
    },
  ],
  kubernetes: {
    fileMatch: [
      "manifests/.*\\.yaml$"
    ]
  },
  "baseBranches": [
    "main",
    "test"
  ],
  "platform": "github",
  "onboarding": false,
  "requireConfig": false,
  "timezone": "Asia/Seoul",
  // repo config
  "repositories": [
    "sangheee/renovate-action-test"
  ],
  "ignorePaths": [],
  "username": "sangheee",
  "gitAuthor": "sangheee <afk.sh94@gmail.com>",
  // PR config
  "dependencyDashboardTitle": "Dependency Dashboard ðŸ¤–",
  "dependencyDashboardHeader": "",
  "prFooter": "",
  "suppressNotifications": [
    "prIgnoreNotification"
  ],
  "rebaseWhen": "conflicted",
  "commitBodyTable": true
}
